<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Animation Pro</title>
    <style>
        :root {
            --bg: #121213;
            --tile-border: #3a3a3c;
            --correct: #538d4e;
            --present: #b59f3b;
            --absent: #3a3a3c;
            --text: #ffffff;
        }

        body {
            background-color: var(--bg); color: var(--text);
            font-family: 'Arial', sans-serif; display: flex; flex-direction: column;
            align-items: center; height: 100vh; margin: 0; justify-content: space-between;
        }

        header { border-bottom: 1px solid var(--tile-border); width: 100%; text-align: center; padding: 10px; }

        #board { display: grid; grid-template-rows: repeat(6, 1fr); grid-gap: 5px; padding: 10px; }
        .row { display: grid; grid-template-columns: repeat(5, 1fr); grid-gap: 5px; }

        .tile {
            width: 60px; height: 60px; border: 2px solid var(--tile-border);
            display: flex; justify-content: center; align-items: center;
            font-size: 2rem; font-weight: bold; text-transform: uppercase;
            /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø£Ù†Ù…ÙŠØ´Ù† */
            backface-visibility: hidden;
        }

        /* --- Ø£Ù†Ù…ÙŠØ´Ù† Ø§Ù„Ø§Ù†Ù‚Ù„Ø§Ø¨ (The Flip Animation) --- */
        @keyframes flipTile {
            0% { transform: rotateX(0); }
            50% { transform: rotateX(90deg); }
            100% { transform: rotateX(0); }
        }

        .flip {
            animation: flipTile 0.6s ease-in-out forwards;
        }

        /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† ØªÙØ·Ø¨Ù‚ ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø£Ù†Ù…ÙŠØ´Ù† Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ */
        .correct { background-color: var(--correct); border-color: var(--correct); }
        .present { background-color: var(--present); border-color: var(--present); }
        .absent { background-color: var(--absent); border-color: var(--absent); }

        #keyboard { width: 100%; max-width: 500px; padding: 10px; margin-bottom: 20px; }
        .kb-row { display: flex; justify-content: center; gap: 5px; margin-bottom: 8px; }
        .key {
            background-color: #818384; color: white; border: 0; border-radius: 4px;
            height: 58px; cursor: pointer; flex: 1; font-weight: bold; font-size: 1rem;
        }
        .key.wide { flex: 1.5; }
        #message { font-weight: bold; color: #ffd700; height: 25px; margin: 5px; }
    </style>
</head>
<body>

<header><h1>WORDLE</h1></header>
<div id="message"></div>
<div id="board"></div>

<div id="keyboard">
    <div class="kb-row">
        <button class="key" onclick="onKeyPress('Q')">Q</button>
        <button class="key" onclick="onKeyPress('W')">W</button>
        <button class="key" onclick="onKeyPress('E')">E</button>
        <button class="key" onclick="onKeyPress('R')">R</button>
        <button class="key" onclick="onKeyPress('T')">T</button>
        <button class="key" onclick="onKeyPress('Y')">Y</button>
        <button class="key" onclick="onKeyPress('U')">U</button>
        <button class="key" onclick="onKeyPress('I')">I</button>
        <button class="key" onclick="onKeyPress('O')">O</button>
        <button class="key" onclick="onKeyPress('P')">P</button>
    </div>
    <div class="kb-row">
        <button class="key" onclick="onKeyPress('A')">A</button>
        <button class="key" onclick="onKeyPress('S')">S</button>
        <button class="key" onclick="onKeyPress('D')">D</button>
        <button class="key" onclick="onKeyPress('F')">F</button>
        <button class="key" onclick="onKeyPress('G')">G</button>
        <button class="key" onclick="onKeyPress('H')">H</button>
        <button class="key" onclick="onKeyPress('J')">J</button>
        <button class="key" onclick="onKeyPress('K')">K</button>
        <button class="key" onclick="onKeyPress('L')">L</button>
    </div>
    <div class="kb-row">
        <button class="key wide" onclick="onKeyPress('ENTER')">ENTER</button>
        <button class="key" onclick="onKeyPress('Z')">Z</button>
        <button class="key" onclick="onKeyPress('X')">X</button>
        <button class="key" onclick="onKeyPress('C')">C</button>
        <button class="key" onclick="onKeyPress('V')">V</button>
        <button class="key" onclick="onKeyPress('B')">B</button>
        <button class="key" onclick="onKeyPress('N')">N</button>
        <button class="key" onclick="onKeyPress('M')">M</button>
        <button class="key wide" onclick="onKeyPress('BACKSPACE')">DEL</button>
    </div>
</div>

<script>
    const dictionary = ["SMILE", "SMART", "BRAIN", "WORLD", "HELLO", "LIGHT", "HOUSE", "PLANE", "CRANE", "AUDIO"];
    let secretWord = dictionary[Math.floor(Math.random() * dictionary.length)];
    let currentGuess = "";
    let currentRow = 0;
    let gameOver = false;

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨ÙˆØ±Ø¯
    const board = document.getElementById('board');
    for (let i = 0; i < 6; i++) {
        const row = document.createElement('div');
        row.className = 'row';
        for (let j = 0; j < 5; j++) {
            const tile = document.createElement('div');
            tile.className = 'tile';
            tile.id = `tile-${i}-${j}`;
            row.appendChild(tile);
        }
        board.appendChild(row);
    }

    function onKeyPress(key) {
        if (gameOver) return;
        if (key === 'ENTER') submitGuess();
        else if (key === 'BACKSPACE' || key === 'DELETE') {
            if (currentGuess.length > 0) {
                currentGuess = currentGuess.slice(0, -1);
                updateBoard();
            }
        } else if (currentGuess.length < 5 && /^[A-Z]$/.test(key)) {
            currentGuess += key;
            updateBoard();
        }
    }

    function updateBoard() {
        for (let i = 0; i < 5; i++) {
            const tile = document.getElementById(`tile-${currentRow}-${i}`);
            tile.textContent = currentGuess[i] || "";
        }
    }

    function submitGuess() {
        if (currentGuess.length !== 5) return;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‚Ø§Ù…ÙˆØ³
        if (!dictionary.includes(currentGuess)) {
            showMessage("Not in list!");
            return;
        }

        const guess = currentGuess;
        const rowIdx = currentRow;
        currentRow++;
        currentGuess = "";

        for (let i = 0; i < 5; i++) {
            const tile = document.getElementById(`tile-${rowIdx}-${i}`);
            const letter = guess[i];

            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ù†Ù…ÙŠØ´Ù† Ù…Ø¹ ØªØ£Ø®ÙŠØ± (Delay) Ù„ÙƒÙ„ Ø­Ø±Ù
            setTimeout(() => {
                tile.classList.add('flip');
                
                // ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø£Ù†Ù…ÙŠØ´Ù† (Ø¨Ø¹Ø¯ 300ms)
                setTimeout(() => {
                    if (letter === secretWord[i]) tile.classList.add('correct');
                    else if (secretWord.includes(letter)) tile.classList.add('present');
                    else tile.classList.add('absent');
                }, 300);

                if (i === 4) {
                    setTimeout(() => checkResult(guess), 500);
                }
            }, i * 200); // ÙƒÙ„ Ø­Ø±Ù ÙŠØªØ£Ø®Ø± 200ms Ø¹Ù† Ø§Ù„Ù„ÙŠ Ù‚Ø¨Ù„Ù‡
        }
    }

    function checkResult(guess) {
        if (guess === secretWord) {
            showMessage("Excellent! ğŸ†");
            gameOver = true;
        } else if (currentRow === 6) {
            showMessage("Word: " + secretWord);
            gameOver = true;
        }
    }

    function showMessage(msg) {
        document.getElementById('message').textContent = msg;
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙŠØ¨ÙˆØ±Ø¯ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
    document.addEventListener('keydown', (e) => {
        const key = e.key.toUpperCase();
        if (key === 'ENTER' || key === 'BACKSPACE' || /^[A-Z]$/.test(key)) {
            onKeyPress(key);
        }
    });
</script>
</body>
</html>
